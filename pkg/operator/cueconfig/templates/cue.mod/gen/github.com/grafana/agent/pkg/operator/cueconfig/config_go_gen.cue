// Code generated by cue get go. DO NOT EDIT.

//cue:generate cue get go github.com/grafana/agent/pkg/operator/cueconfig

// Package config generates Grafana Agent configuration based on Kubernetes
// resources.
package config

import (
	grafana "github.com/grafana/agent/pkg/operator/apis/monitoring/v1alpha1"
	prom "github.com/prometheus-operator/prometheus-operator/pkg/apis/monitoring/v1"
)

// Deployment is a set of resources used for one deployment of the Agent.
#Deployment: {
	// Agent is the root resource that the deployment represents.
	Agent?: null | grafana.#GrafanaAgent @go(,*grafana.GrafanaAgent)

	// Prometheis is the set of prometheus instances discovered from the root Agent resource.
	Prometheis: [...#PrometheusInstance] @go(,[]PrometheusInstance)
}

// PrometheusInstance is an instance with a set of associated service monitors,
// pod monitors, and probes, which compose the final configuration of the
// generated Prometheus instance.
#PrometheusInstance: {
	Instance?: null | grafana.#PrometheusInstance @go(,*grafana.PrometheusInstance)
	ServiceMonitors: [...null | prom.#ServiceMonitor] @go(,[]*prom.ServiceMonitor)
	PodMonitors: [...null | prom.#PodMonitor] @go(,[]*prom.PodMonitor)
	Probes: [...null | prom.#Probe] @go(,[]*prom.Probe)
}
